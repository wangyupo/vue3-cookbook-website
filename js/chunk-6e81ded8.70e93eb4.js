(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e81ded8"],{"1f7c":function(e,t,c){},"2e09":function(e,t,c){},"417c":function(e,t,c){"use strict";c("4c08")},"42b6":function(e,t,c){"use strict";c("d603")},"4c08":function(e,t,c){},5398:function(e,t,c){"use strict";c("fbe2")},"5c48":function(e,t,c){"use strict";c("6751")},6751:function(e,t,c){},7159:function(e,t,c){"use strict";c("c279")},"88e6":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n=c("5502");const o={class:"flex absolute bottom-0",id:"floor"},l={class:"flex"},r={class:"flex"};var u={__name:"Floor",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game.brick),u=Object(a["computed"])(()=>t.state.game.game);return Object(a["watch"])(u.value,(e,t)=>{u.value.start?document.getElementById("floor").classList.add("floorMove"):document.getElementById("floor").classList.remove("floorMove")}),Object(a["onMounted"])(()=>{document.getElementById("floor").classList.add("floorMove"),document.getElementById("floor").style.animationDuration=c.value.speed+"s"}),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",l,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Object(a["unref"])(c).total,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"brick",style:Object(a["normalizeStyle"])({width:Object(a["unref"])(c).width+"px",height:Object(a["unref"])(c).height+"px",backgroundColor:Object(a["unref"])(c).bgColor,order:0}),key:e},null,4))),128))]),Object(a["createElementVNode"])("div",r,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Object(a["unref"])(c).total,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"brick splice",style:Object(a["normalizeStyle"])({width:Object(a["unref"])(c).width+"px",height:Object(a["unref"])(c).height+"px",backgroundColor:Object(a["unref"])(c).bgColor,order:1}),key:e},null,4))),128))])]))}},m=(c("417c"),c("d959")),b=c.n(m);const s=b()(u,[["__scopeId","data-v-9dfea6b2"]]);var i=s,d=c("6605"),j={__name:"Figure",setup(e){const t=Object(n["b"])(),c=Object(a["ref"])(null),o=Object(a["ref"])(null),l=Object(a["ref"])(600),r=Object(a["ref"])(100),u=Object(a["computed"])(()=>t.state.game.brick),m=Object(a["computed"])(()=>t.state.game.figure),b=Object(a["computed"])(()=>t.state.game.game);Object(a["watch"])(b,e=>{if(e.start){if(0===e.score)return;l.value<=200&&(r.value=10),l.value=l.value-r.value}else l.value=600,r.value=100},{deep:!0});const s=()=>{m.value.bottom+=m.value.speed,document.getElementById("figure").style.bottom=m.value.bottom+"px",c.value=requestAnimationFrame(s)},i=()=>{m.value.bottom-=m.value.speed,document.getElementById("figure").style.bottom=m.value.bottom+"px",o.value=requestAnimationFrame(i),m.value.bottom<=u.value.height&&(cancelAnimationFrame(o.value),o.value=null)},j=e=>{if(32===e.keyCode){if(!b.value.start)return;if(c.value||o.value)return;m.value.bottom=u.value.height,c.value=requestAnimationFrame(s),setTimeout(()=>{cancelAnimationFrame(c.value),c.value=null,o.value=requestAnimationFrame(i)},l.value)}};return Object(a["onMounted"])(()=>{let e=document.getElementById("figure");e&&(e.style.bottom=u.value.height+"px",document.addEventListener("keydown",j))}),Object(d["c"])((e,t)=>{o.value&&cancelAnimationFrame(o.value),c.value&&cancelAnimationFrame(c.value),document.removeEventListener("keydown",j)}),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{id:"figure",style:Object(a["normalizeStyle"])({width:Object(a["unref"])(m).width+"px",height:Object(a["unref"])(m).height+"px",left:Object(a["unref"])(m).left+"px"})}," 国伟 ",4))}};c("b40d");const O=b()(j,[["__scopeId","data-v-12797145"]]);var v=O,f=c("2295"),p=c("2ef0"),g=c.n(p),h={__name:"Enemy",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game.brick),o=Object(a["computed"])(()=>t.state.game.game),l=Object(a["computed"])(()=>t.state.game.figure),r=Object(a["computed"])(()=>t.state.game.enemy),u=Object(a["ref"])(),m=Object(a["ref"])(null);Object(a["watch"])(r.value,e=>{e.currentLeft<=31&&e.currentLeft>=-7&&l.value.bottom<=r.value.height+c.value.height&&b()});const b=()=>{cancelAnimationFrame(m.value),m.value=null,r.value.speed=u.value.speed,r.value.right=u.value.right,r.value.currentLeft=document.getElementById("enemy").offsetLeft,document.getElementById("enemy").style.right=r.value.right+"px",o.value.score>o.value.maxScore&&t.commit("game/setGameMaxScore",o.value.score),t.commit("game/setGameScore",0),t.commit("game/setGameStart",!1)},s=()=>{cancelAnimationFrame(m.value),m.value=null,r.value.right=u.value.right,document.getElementById("enemy").style.right=r.value.right+"px",t.commit("game/setGameScore",o.value.score+=1),r.value.currentLeft=document.getElementById("enemy").offsetLeft,o.value.score===o.value.finalScore?(t.commit("game/setGameStart",!1),r.value.speed=u.value.speed):(r.value.speed+=r.value.speedAdd,Object(f["a"])({title:"过关成功",message:"按空格开始下一关！",type:"success",duration:3e3}))},i=()=>{const e=document.getElementById("map").offsetWidth;r.value.right+=r.value.speed,r.value.currentLeft=e-r.value.right-r.value.width,document.getElementById("enemy").style.right=r.value.right+"px",m.value=requestAnimationFrame(i),r.value.right>=e&&r.value.right!==u.value.right&&s()},j=e=>{if(32===e.keyCode){if(!o.value.start)return;if(m.value)return;m.value=requestAnimationFrame(i)}};return Object(a["onMounted"])(()=>{let e=document.getElementById("enemy");e&&(u.value=g.a.cloneDeep(r.value),e.style.bottom=c.value.height+"px",r.value.currentLeft=document.getElementById("enemy").offsetLeft,document.addEventListener("keydown",j))}),Object(d["c"])((e,t)=>{m.value&&cancelAnimationFrame(m.value),document.removeEventListener("keydown",j)}),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"enemy",id:"enemy",style:Object(a["normalizeStyle"])({width:Object(a["unref"])(r).width+"px",height:Object(a["unref"])(r).height+"px",right:Object(a["unref"])(r).right+"px"})}," 杆 ",4))}};c("9655");const y=b()(h,[["__scopeId","data-v-f6f1c4ec"]]);var k=y;const E={id:"score"};var B={__name:"Score",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game.game);return(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",E,[Object(a["createElementVNode"])("p",null,"最高关卡："+Object(a["toDisplayString"])(Object(a["unref"])(c).maxScore),1),Object(a["createElementVNode"])("p",null,"当前关卡："+Object(a["toDisplayString"])(Object(a["unref"])(c).score),1)]))}};c("f7f0");const _=b()(B,[["__scopeId","data-v-19a527bb"]]);var x=_;const S={class:"config"};var I={__name:"Config",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game.brick),o=Object(a["computed"])(()=>t.state.game.game),l=Object(a["computed"])(()=>t.state.game.figure),r=Object(a["computed"])(()=>t.state.game.enemy);return(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",S,[Object(a["createElementVNode"])("p",null,"游戏属性："+Object(a["toDisplayString"])(Object(a["unref"])(o)),1),Object(a["createElementVNode"])("p",null,"地砖属性："+Object(a["toDisplayString"])(Object(a["unref"])(c)),1),Object(a["createElementVNode"])("p",null,"人物属性："+Object(a["toDisplayString"])(Object(a["unref"])(l)),1),Object(a["createElementVNode"])("p",null,"敌人属性："+Object(a["toDisplayString"])(Object(a["unref"])(r)),1)]))}};c("42b6");const N=b()(I,[["__scopeId","data-v-254013fc"]]);var V=N;const w=e=>(Object(a["pushScopeId"])("data-v-00a46d30"),e=e(),Object(a["popScopeId"])(),e),F={key:0,id:"fail",class:"flex flex-col items-center justify-center"},L=w(()=>Object(a["createElementVNode"])("p",null,"你被绊倒了，请重新来过。",-1)),A=Object(a["createTextVNode"])("再来一局"),C=Object(a["createTextVNode"])("重新开始");var D={__name:"Fail",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game.game),o=Object(a["ref"])();Object(a["onMounted"])(()=>{o.value=g.a.cloneDeep(c.value)});const l=()=>{t.commit("game/setGameStart",!0)},r=()=>{t.commit("game/setGameScore",0),t.commit("game/setGameMaxScore",0),t.commit("game/setGameStart",!0)};return(e,t)=>{const n=Object(a["resolveComponent"])("el-button");return Object(a["unref"])(c).start?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[Object(a["unref"])(c).score<Object(a["unref"])(c).finalScore?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[L,Object(a["createVNode"])(n,{class:"mt-4",onClick:l},{default:Object(a["withCtx"])(()=>[A]),_:1})],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("p",null,"恭喜你，通过全部"+Object(a["toDisplayString"])(Object(a["unref"])(c).finalScore)+"关！",1),Object(a["createVNode"])(n,{class:"mt-4",onClick:r},{default:Object(a["withCtx"])(()=>[C]),_:1})],64))]))}}};c("5c48");const M=b()(D,[["__scopeId","data-v-00a46d30"]]);var G=M;const q={id:"map"};var z={__name:"GameMap",setup(e){const t=Object(n["b"])();Object(a["computed"])(()=>t.state.game.game);return(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",q,[Object(a["createVNode"])(Object(a["unref"])(V)),Object(a["createVNode"])(Object(a["unref"])(x)),Object(a["createVNode"])(Object(a["unref"])(v)),Object(a["createVNode"])(Object(a["unref"])(k)),Object(a["createVNode"])(Object(a["unref"])(i)),Object(a["createVNode"])(Object(a["unref"])(G))]))}};c("5398");const T=b()(z,[["__scopeId","data-v-10388f0b"]]);var J=T;const W=e=>(Object(a["pushScopeId"])("data-v-d9eb85fa"),e=e(),Object(a["popScopeId"])(),e),H=W(()=>Object(a["createElementVNode"])("div",{class:"introduce"},[Object(a["createElementVNode"])("p",{class:"mb-4 text-center font-semibold"},"国伟立定跳"),Object(a["createElementVNode"])("p",null,"玩法简介：按空格开始本关（或下一关），通过按空格让“国伟”跳起来跨越栏杆，跨越成功即算过关。")],-1));var K={__name:"index",setup(e){const t=Object(n["b"])(),c=Object(a["computed"])(()=>t.state.game),o=Object(a["ref"])();return Object(a["onMounted"])(()=>{o.value=g.a.cloneDeep(c.value)}),Object(d["c"])((e,c)=>{t.commit("game/resetAllState",o.value)}),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[H,Object(a["createVNode"])(J)],64))}};c("7159");const P=b()(K,[["__scopeId","data-v-d9eb85fa"]]);t["default"]=P},9655:function(e,t,c){"use strict";c("1f7c")},b40d:function(e,t,c){"use strict";c("c53b")},c279:function(e,t,c){},c53b:function(e,t,c){},d603:function(e,t,c){},f7f0:function(e,t,c){"use strict";c("2e09")},fbe2:function(e,t,c){}}]);
//# sourceMappingURL=chunk-6e81ded8.70e93eb4.js.map