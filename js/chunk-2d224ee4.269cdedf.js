(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224ee4"],{e1df:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=n("5502");const c={class:"flex"},a={class:"flex items-center"},l=Object(r["createTextVNode"])(" 姓名： "),s={class:"flex items-center mt-4"},m=Object(r["createTextVNode"])(" 年龄： "),d=Object(r["createTextVNode"])("提交"),p={class:"ml-64"},u=Object(r["createElementVNode"])("p",{class:"font-semibold"},"store数据：",-1),i={class:"mt-2"},b={class:"flex overflow-x-auto"},j={class:"mt-8"},O=Object(r["createElementVNode"])("p",{class:"font-bold"},"组件代码：",-1),v=Object(r["createElementVNode"])("pre",null,[Object(r["createTextVNode"])("            "),Object(r["createElementVNode"])("code",null,'\r\n<template>\r\n  姓名：<el-input v-model="userInfo.name"></el-input>\r\n  年龄：<el-input v-model="userInfo.age"></el-input>\r\n  <el-button type="primary" @click="handleSumit">提交</el-button>\r\n</template>\r\n\r\n<script setup>\r\n  import { reactive, getCurrentInstance, computed, onMounted } from "vue";\r\n\r\n  // 方法一：使用 getCurrentInstance 实例中的 $store 也可以使用 vuex\r\n  // const { appContext } = getCurrentInstance();\r\n  // const { $store } = appContext.config.globalProperties;\r\n\r\n  // 方法二：使用 vuex 中的 store 实例\r\n  import { useStore } from "vuex";\r\n  const store = useStore();\r\n\r\n  const userInfo = reactive({\r\n    name: "tom",\r\n    age: "20",\r\n  });\r\n\r\n  const user = computed(() => store.state.app.userInfo);\r\n\r\n  const handleSumit = () => {\r\n    store.commit("app/setUserInfo", userInfo);\r\n    console.log(store.getters["app/name"]);\r\n    console.log(store.getters["app/age"]);\r\n  };\r\n<\/script>\r\n            '),Object(r["createTextVNode"])("\r\n        ")],-1),V=[O,v],f={class:"mt-8 ml-4"},x=Object(r["createElementVNode"])("p",{class:"font-bold"},"store（app.js）代码：",-1),g=Object(r["createElementVNode"])("pre",null,[Object(r["createTextVNode"])("            "),Object(r["createElementVNode"])("code",{class:"js"},'\r\n// 这里展示的是模块的 store，且开启了名命空间\r\nimport loadsh from "lodash";\r\n\r\nconst app = {\r\n  namespaced: true,\r\n  state: {\r\n    userInfo: {},\r\n  },\r\n  getters: {\r\n    name: (state) => state.userInfo.name,\r\n    age: (state) => state.userInfo.age,\r\n  },\r\n  mutations: {\r\n    setUserInfo(state, data) {\r\n      // reactive 响应式转换是“深度转换”——它会影响传递对象的所有嵌套 property。\r\n      state.userInfo = loadsh.cloneDeep(data);\r\n    },\r\n  },\r\n};\r\n\r\nexport default app;\r\n            '),Object(r["createTextVNode"])("\r\n        ")],-1),N=[x,g],h={class:"mt-8 ml-4"},E=Object(r["createElementVNode"])("p",{class:"font-bold"},"store（index.js）代码：",-1),k=Object(r["createElementVNode"])("pre",null,[Object(r["createTextVNode"])("            "),Object(r["createElementVNode"])("code",{class:"js"},'\r\nimport { createStore } from "vuex";\r\nimport app from "./modules/app";\r\n\r\nexport default createStore({\r\n  modules: {\r\n    app,\r\n  },\r\n});\r\n            '),Object(r["createTextVNode"])("\r\n        ")],-1),I=[E,k],w={class:"mt-8 ml-4"},T=Object(r["createElementVNode"])("p",{class:"font-bold"},"store 目录结构：",-1),B=Object(r["createElementVNode"])("pre",null,[Object(r["createTextVNode"])("            "),Object(r["createElementVNode"])("code",{class:"js"},"\r\n|-- store\r\n      |-- index.js\r\n      |-- modules\r\n            |-- app.js\r\n            "),Object(r["createTextVNode"])("\r\n        ")],-1),C=[T,B];var y={__name:"index",setup(e){const t=Object(o["b"])(),n=Object(r["reactive"])({name:"tom",age:"20"}),O=Object(r["computed"])(()=>t.state.app.userInfo),v=()=>{t.commit("app/setUserInfo",n),console.log(t.getters["app/name"]),console.log(t.getters["app/age"])};Object(r["onMounted"])(()=>{v()});const x=[{label:"vuex 中文文档：",link:"https://vuex.vuejs.org/zh/"},{label:"vuex 如何访问有命名空间的 store 模块？",link:"https://vuex.vuejs.org/zh/guide/modules.html#命名空间"},{label:"如何在vue3中使用vuex 4.x？",link:"https://blog.csdn.net/weixin_43564110/article/details/111566345"},{label:"为什么 reactive 的数据会未经 commit 直接改变 state？",link:"https://v3.cn.vuejs.org/guide/reactivity-fundamentals.html#声明响应式状态"}];return(e,t)=>{const o=Object(r["resolveComponent"])("el-input"),g=Object(r["resolveComponent"])("el-button"),E=Object(r["resolveComponent"])("ReLink"),k=Object(r["resolveDirective"])("highlight");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",a,[l,Object(r["createVNode"])(o,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),class:"w-32",maxlength:"10"},null,8,["modelValue"])]),Object(r["createElementVNode"])("div",s,[m,Object(r["createVNode"])(o,{modelValue:n.age,"onUpdate:modelValue":t[1]||(t[1]=e=>n.age=e),class:"w-32",maxlength:"3"},null,8,["modelValue"])]),Object(r["createVNode"])(g,{type:"primary",class:"mt-4",onClick:v},{default:Object(r["withCtx"])(()=>[d]),_:1})]),Object(r["createElementVNode"])("div",p,[u,Object(r["createElementVNode"])("p",i,Object(r["toDisplayString"])(Object(r["unref"])(O)),1)])]),Object(r["createElementVNode"])("div",b,[Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,V)),[[k]]),Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",f,N)),[[k]]),Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",h,I)),[[k]]),Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w,C)),[[k]])]),Object(r["createVNode"])(E,{class:"mt-8",links:x})],64)}}};const D=y;t["default"]=D}}]);
//# sourceMappingURL=chunk-2d224ee4.269cdedf.js.map